What is does
============

Download logfiles from Amazon S3 buckets to local disk and combine them in one Apache CLF per bucket

Usage
=====

Prerequirements: 

* An S3 account (duh)
* Enable logging on S3 (use [cyberduck](http://cyberduck.ch/) for example)

Execution:

    r = Ralf.new(:config => '/my/config.yaml', :date => '2010-02-01')
    r.run

Or run it in one go:

    Ralf.run(:config => '/my/config.yaml', :date => '2010-02-01')


Parameters:
----------

    :config   a YAML config file, if none given it tries to open /etc/ralf.yaml or ~/.ralf.yaml
    :date     the date to parse

    :aws_access_key_id      (required in config)
    :aws_secret_access_key  (required in config)
    :out_path               (required in config)
    :out_prefix             (optional, defaults to 's3_combined') Prefix the output file

You can ommit a configuration file when you supply the required parameters __:aws\_access\_key\_id___, __:aws\_secret\_access\_key__ and __:out\_path__  
They take precedence over the config file

Caveats
=======

* There is no logrotation as we know it like on regular unix machines

More info: [S3 Server Access Logging](http://docs.amazonwebservices.com/AmazonS3/latest/ServerLogs.html)

TODO
====

* CLI executable
* Grouping/combinig on week/month

Credits:
========

This plugin is created for [*kerkdienstgemist.nl*](http://kerkdienstgemist.nl "Kerkdienst Gemist") for processing the logfiles generated by [*S3*](http://aws.amazon.com/s3/).

Authors: [Leon Berenschot](http://github.com/LeipeLeon) and [K.J. Wierenga](http://github.com/kjwierenga)